%3.3.tex

LLVMにおいて特定のターゲットマシン命令の生成は\ref{chp:3_1}で述べたSelectionDAGISelパスによるSelectフェーズにてLLVM IRの命令からターゲットマシン命令に変換されることによって行われる．
この変換はSelectionDAGのノードに対してパターンマッチングを行い，特定のパターンにターゲット命令を対応させる手法で行われる．

このパターンマッチングに用いるパターンはLLVMの固有ドメイン言語であるTableGenによって行われる．TableGenはターゲットマシンの命令やレジスタ等の情報を記述するために用いられる．TableGenでは命令生成のためにパターンの定義だけでなく，アセンブリコード等の出力のためにニーモニックの定義や命令フォーマットの定義も行っている．

SelectionDAGのパターンマッチングの例を図%図番号
に示す．
図%図番号
では加算命令の例を示している．